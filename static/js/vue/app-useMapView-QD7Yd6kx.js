import{J as k,o as u,L as v,c as m,_ as y,b as l,F as $,O as C,u as g,M as w,t as z,N as x,$ as E,r as M,k as S,a3 as A}from"./app-vue-BvXrwsFo.js";import{d as B}from"./app-defaultLogo-CbgmFOV4.js";import{_ as O}from"./app-Location-c3c_cTRT.js";import{_ as P}from"./app-Internships-CJI2UJUs.js";import{_ as b,i as T,c as U,a as h,b as V,s as j}from"./app-leaflet-BrvYRaJH.js";import{T as q}from"./app.js";import{N as F}from"./app-utils-BxZ-CQXf.js";const I={key:0,class:"logoListView"},D={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4"},J={"track-by":"item.name",class:"col mx-0 px-0"},G=["onClick"],H={class:"company"},K={class:"logo"},Q=["src"],R={class:"name"},W={__name:"LogoListView",props:["list","loading"],emits:["click"],setup(t,{emit:s}){const o=s;return(r,i)=>(u(),k(g(q),{show:t.loading},{default:v(()=>[t.list&&t.list.total>0?(u(),m("div",I,[l("div",D,[(u(!0),m($,null,C(t.list.items,e=>(u(),m("div",J,[w(g(F),{trigger:"hover",placement:"top",delay:50,duration:0},{trigger:v(()=>[l("div",{class:"companyCard p-3 h-100 px-3 py-4",onClick:E(n=>o("click",e.slug),["prevent"])},[l("div",H,[l("div",K,[l("img",{src:e.logo||g(B)},null,8,Q)]),l("p",R,x(e.name),1)]),e.internships?(u(),k(P,{key:0,data:e,text:"Accepting internship",class:"mb-1"},null,8,["data"])):y("",!0),w(O,{location:{city:e.location_city,country:e.location_country}},null,8,["location"])],8,G)]),default:v(()=>[z(" "+x(e.tagline||e.name),1)]),_:2},1024)]))),256))])])):y("",!0)]),_:1},8,["show"]))}},co=b(W,[["__scopeId","data-v-0e91ffa2"]]);function X(t={}){const s=M(null),o=M(null),r=L.icon({iconUrl:T,iconSize:[25,41],iconAnchor:[14,41],popupAnchor:[-1,-41]});S(()=>{if(!s||o.value)return;const{map:n}=U(s.value,t);o.value=n}),A(()=>{o.value&&(h(o.value),o.value.remove(),o.value=null)});function i(n,c){o.value&&(h(o.value),V(o.value,n,c),j(o.value,n,c,t.zoom||14))}function e(n=[],c={}){o.value&&(h(o.value),n.forEach(a=>{const p=V(o.value,a.coords[1],a.coords[0],{popup:a.html,icon:r});p.on("popupopen",()=>{for(const[f,_]of Object.entries(c)){const d=p.getPopup().getElement().querySelector(`#${f}`);d&&d.addEventListener("click",N=>_(a.slug,N))}}),p.on("popupclose",()=>{for(const[f,_]of Object.entries(c)){const d=p.getPopup().getElement().querySelector(`#${f}`);d&&d.removeEventListener("click",_)}})}))}return{mapContainer:s,map:o,showLocation:i,addLocations:e}}const Y={__name:"MapView",props:{center:{type:Array,default:()=>[0,0]},zoom:{type:Number,default:1}},setup(t,{expose:s}){const o=t,{mapContainer:r,addLocations:i}=X({center:o.center,zoom:o.zoom});return s({addLocations:i}),(e,n)=>(u(),m("div",{ref_key:"mapContainer",ref:r,class:"map-container"},null,512))}},ro=b(Y,[["__scopeId","data-v-f95853e7"]]);function io(t,s){const o=[51.505,-.09],r=4;function i(e){const n=e.filter(a=>a.location!==null).map(a=>({coords:a.location.coordinates,html:` <div>
                            <img src="${a.logo}" class="mb-2" style="height:60px"/><br>
                            <div class="mb-2"><strong>${a.name}</strong></div>
                            <a href="#" id="profileLink">Show Profile</a>
                            </div>`,slug:a.slug})),c={profileLink:s};t.value.addLocations(n,c)}return{fillMap:i,center:o,zoom:r}}export{co as L,ro as M,io as u};
