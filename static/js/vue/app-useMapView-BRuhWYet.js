import{J as y,o as l,L as g,c as f,_ as w,b as i,F as $,O as C,u as h,M as x,t as z,N as M,$ as B,r as b,k as S,a3 as E}from"./app-vue-BvXrwsFo.js";import{d as A}from"./app-defaultLogo-CbgmFOV4.js";import{_ as O}from"./app-Location-c3c_cTRT.js";import{_ as P}from"./app-Internships-CJI2UJUs.js";import{T}from"./app.js";import{N as U}from"./app-utils-BxZ-CQXf.js";import{i as j,c as q,a as k,m as F,b as D,s as G}from"./app-leaflet-CCReQ7N0.js";const I=(e,a)=>{const o=e.__vccOpts||e;for(const[s,r]of a)o[s]=r;return o},J={key:0,class:"logoListView"},H={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4"},K={"track-by":"item.name",class:"col mx-0 px-0"},Q=["onClick"],R={class:"company"},W={class:"logo"},X=["src"],Y={class:"name"},Z={__name:"LogoListView",props:["list","loading"],emits:["click"],setup(e,{emit:a}){const o=a;return(s,r)=>(l(),y(h(T),{show:e.loading},{default:g(()=>[e.list&&e.list.total>0?(l(),f("div",J,[i("div",H,[(l(!0),f($,null,C(e.list.items,t=>(l(),f("div",K,[x(h(U),{trigger:"hover",placement:"top",delay:50,duration:0},{trigger:g(()=>[i("div",{class:"companyCard p-3 h-100 px-3 py-4",onClick:B(u=>o("click",t.slug),["prevent"])},[i("div",R,[i("div",W,[i("img",{src:t.logo||h(A)},null,8,X)]),i("p",Y,M(t.name),1)]),t.internships?(l(),y(P,{key:0,data:t,text:"Accepting internship",class:"mb-1"},null,8,["data"])):w("",!0),x(O,{location:{city:t.location_city,country:t.location_country}},null,8,["location"])],8,Q)]),default:g(()=>[z(" "+M(t.tagline||t.name),1)]),_:2},1024)]))),256))])])):w("",!0)]),_:1},8,["show"]))}},io=I(Z,[["__scopeId","data-v-0e91ffa2"]]);function oo(e={}){const a=b(null),o=b(null);let s=null;const r=L.icon({iconUrl:j,iconSize:[25,41],iconAnchor:[14,41],popupAnchor:[-1,-41]});S(()=>{if(!a||o.value)return;const{map:c}=q(a.value,null,e);o.value=c}),E(()=>{o.value&&(k(o.value),o.value.remove(),o.value=null)});function t(c,n){o.value&&(k(o.value),addMarker(o.value,c,n),G(o.value,c,n,e.zoom||14))}function u(c=[],n={}){if(!o.value)return;k(o.value);const V=c.map(m=>{const d=F(o.value,m.coords[1],m.coords[0],{popup:m.html,icon:r});return d.on("popupopen",()=>{for(const[_,v]of Object.entries(n)){const p=d.getPopup().getElement().querySelector(`#${_}`);p&&p.addEventListener("click",N=>v(m.slug,N))}}),d.on("popupclose",()=>{for(const[_,v]of Object.entries(n)){const p=d.getPopup().getElement().querySelector(`#${_}`);p&&p.removeEventListener("click",v)}}),d});s=D(o.value,s,V),o.value.fitBounds(s.getBounds())}return{mapContainer:a,map:o,showLocation:t,addLocations:u}}const lo={__name:"MapView",props:{center:{type:Array,default:()=>[0,0]},zoom:{type:Number,default:1}},setup(e,{expose:a}){const o=e,{mapContainer:s,addLocations:r}=oo({center:o.center,zoom:o.zoom});return a({addLocations:r}),(t,u)=>(l(),f("div",{ref_key:"mapContainer",ref:s,class:"map-container"},null,512))}};function uo(e,a){const o=[51.505,-.09],s=4;function r(t){const u=t.filter(n=>n.location!==null).map(n=>({coords:n.location.coordinates,html:` <div>
                            <img src="${n.logo}" class="mb-2" style="height:60px"/><br>
                            <div class="mb-2"><strong>${n.name}</strong></div>
                            <a href="#" id="profileLink">Show Profile</a>
                            </div>`,slug:n.slug})),c={profileLink:a};e.value.addLocations(u,c)}return{fillMap:r,center:o,zoom:s}}export{io as L,lo as _,uo as u};
