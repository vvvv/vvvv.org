import{o as w,R as b,s as L}from"./app.js";import{s as C}from"./app-ListStoreHelper-3cgiOj9z.js";import{b as a}from"./app-utils-BxZ-CQXf.js";import{_ as E,a as z}from"./app-ListNavigation-37tSoHkn.js";import{u as R,_ as V,L as B}from"./app-useMapView-ByZ-2cHN.js";import{r as I,k as M,w as N,f as $,c as f,b as l,_ as r,J as g,M as _,u as o,N as D,F as O,o as i}from"./app-vue-BvXrwsFo.js";import"./app-icons-CLxSSBpP.js";import"./app-Dropdown-L8tdEyEf.js";import"./app-is-browser-DqcmxZSF.js";import"./app-Tag-rZsY_IHN.js";import"./app-LinksHelper-DaRHqwYW.js";import"./app-logos-BYnG71Bo.js";import"./app-lodash-Cpj98o6Y.js";import"./app-PerformantEllipsis-Y9OIss__.js";import"./app-Ellipsis-OnfN92X5.js";import"./app-defaultLogo-CbgmFOV4.js";import"./app-Location-c3c_cTRT.js";import"./app-Internships-CJI2UJUs.js";import"./app-leaflet-D6UHTNAV.js";const P=Object.create(C("edu")),j=w("eduList",P),q={class:"row mb-2"},x={class:"col-12 col-lg-4"},F={key:0,class:"communityList"},re={__name:"EduList",emits:["logout"],setup(J,{emit:K}){const n=L(),c=b(),e=j(),u=I(null),{fillMap:y,center:h,zoom:k}=R(u,a),m=[{label:"10 per page",value:10},{label:"50 per page",value:50},{label:"100 per page",value:100}];M(async()=>{e.setSection("list"),await p(c.query)}),N(()=>c.query,async(t,s)=>{t!=s&&await p(c.query)},{deep:!0});async function p(t){if(t.e){a(t.e);return}else t.section&&e.setSection(t.section,t.type);try{await e.getData({page:0,size:m[0].value}),y(e.list.list.items)}catch(s){console.log(s)}}function v(t){t=="connections"?n.push({name:"Educational Institutions",query:{section:t,type:e.selectedConnection.key??"github"}}):t=="list"&&n.push({name:"Educational Institutions",query:{section:t}})}function S(t){n.push({name:"Educational Institutions",query:{section:e.selectedSection.key,type:t}})}const d=$(()=>{if(e.list?.list)return`${e.list.list.total} Institutions where vvvv serves in parts of the education program:`});return(t,s)=>(i(),f(O,null,[l("div",q,[l("div",x,[_(E,{sections:o(e).sections,selected:o(e).selectedSection.key,onSelect:v},null,8,["sections","selected"])])]),o(e).selectedSection.key=="list"?(i(),f("div",F,[l("p",null,D(d.value),1),_(V,{ref_key:"mapRef",ref:u,center:o(h),zoom:o(k)},null,8,["center","zoom"]),o(e).selectedSection.key=="list"?(i(),g(B,{key:0,loading:o(e).loading,title:d.value,list:o(e).list?.list,onClick:o(a),class:"mt-4"},null,8,["loading","title","list","onClick"])):r("",!0)])):r("",!0),o(e).selectedSection.key=="connections"?(i(),g(z,{key:1,list:o(e).list?.connections,loading:o(e).loading,options:o(e).socialOptions,connection:o(e).selectedConnection,pageSizes:m,connectionKey:"edu",onChange:S,onPage:o(e).getData},null,8,["list","loading","options","connection","onPage"])):r("",!0)],64))}};export{re as default};
