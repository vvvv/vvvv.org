import{C as f,R as v,T as w}from"./app.js";import{c as h,t as g}from"./app-utils-BxZ-CQXf.js";import{_ as y,a as k}from"./app-InstitutionBasics-BRi9gQHJ.js";import{r as p,k as R,J as b,L as U,u as a,o as l,c as i,_ as c,b as n,M as _,F as C}from"./app-vue-BvXrwsFo.js";import"./app-icons-CLxSSBpP.js";import"./app-lodash-Cpj98o6Y.js";import"./app-defaultLogo-CbgmFOV4.js";import"./app-SocialView-Cj-akjiC.js";import"./app-LinksHelper-DaRHqwYW.js";import"./app-logos-BYnG71Bo.js";import"./app-Internships-CJI2UJUs.js";const B="?withoutEnlargement=true&quality=98&fit=cover&width=300&format=png",M=f.BASEURL+"items/Company?fields=*,social.*,owner.username,people.User_Role_id.role,people.User_Role_id.user_id.username&filter[slug][_eq]=";async function A(m){const d=M+m,s=await fetch(d);if(s.ok){const o=await s.json();if(o.data.length==0)throw"Can't find a profile for this company";const e={...o.data[0]};return e.people=e.people.filter(t=>t.User_Role_id!==null),e.people=e.people.map(t=>({role:t.User_Role_id.role,username:t.User_Role_id.user_id.username,link:"/people/"+t.User_Role_id.user_id.username})),e.logo=e?.logo?h(e.logo)+B:null,e}else throw new Error("Can't load Profile")}const E={key:0},L={class:"row"},x={class:"col-12 col-md-6 col-lg-4 mb-sm-4"},N={class:"col-12 col-md-6 col-lg-8 mt-md-0 pt-md-0 profileContent"},P=["innerHTML"],z={__name:"BusinessView",setup(m){const s=v().params?.slug??"vvvv",o=p(null),e=p(!1);let t;return R(async()=>{window.scrollTo({top:0,left:0,behavior:"smooth"});try{e.value=!0,o.value=await A(s),document.title="Profile: "+o.value.name,t=g(o.value.description??o.value.tagline)}catch(r){console.log(r),r.value="Something went wrong or maybe a business you are looking for is simply not yet confirmed."}finally{e.value=!1}}),(r,u)=>(l(),b(a(w),{show:e.value},{default:U(()=>[o.value?(l(),i("div",E,[n("div",L,[n("div",x,[_(y,{data:o.value},null,8,["data"])]),n("div",N,[a(t)?(l(),i(C,{key:0},[u[0]||(u[0]=n("div",{class:"border-top d-flex d-md-none mt-2 mb-4"},null,-1)),a(t)?(l(),i("p",{key:0,innerHTML:a(t),class:"markdown-content"},null,8,P)):c("",!0)],64)):c("",!0),_(k,{class:"maintained mt-4 pt-3 border-top d-block d-md-none",data:o.value.owner},null,8,["data"])])])])):c("",!0)]),_:1},8,["show"]))}};export{z as default};
