import{K as ne,g as oe,h as Y,j as re,k as ie,S as ue,H as K,R as de,C as O,T as ce,q as me,o as Q}from"./app.js";import{L as ve}from"./app-logos-DmeRaywN.js";import{t as z,c as D,a as Z,b as ee,N as W,j as pe,k as fe}from"./app-utils-IjCUxnmS.js";import{i as ge}from"./app-is-browser-DqcmxZSF.js";import{g as he}from"./app-get-slot-Bk_rJcZu.js";import{d as ye,h as X,C as _e,f as b,c as i,o as l,_ as d,b as a,F as P,N as y,M as k,L as h,O as te,J as F,u as v,t as C,$ as be,r as x,k as ke,a0 as we}from"./app-vue-BNvXdoBb.js";import{N as $e}from"./app-Tag-411bfkJT.js";import{_ as xe}from"./app-SocialView-CAmdR10a.js";import{_ as Ce}from"./app-Location-DpZ7gFfT.js";import{c as Ee}from"./app-icons-B4RYEify.js";import{N as Se}from"./app-Avatar-nLNPrOFu.js";import"./app-lodash-Cpj98o6Y.js";import"./app-LinksHelper-B_PmFw0I.js";const je={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"};function Te(){return je}const Fe={self:Te};let q;function Le(){if(!ge)return!0;if(q===void 0){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const n=e.scrollHeight===1;return document.body.removeChild(e),q=n}return q}const Re=Object.assign(Object.assign({},Y.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),Me=ye({name:"Space",props:Re,setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:s}=oe(e),r=Y("Space","-space",void 0,Fe,e,n),t=re("Space",s,n);return{useGap:Le(),rtlEnabled:t,mergedClsPrefix:n,margin:b(()=>{const{size:o}=e;if(Array.isArray(o))return{horizontal:o[0],vertical:o[1]};if(typeof o=="number")return{horizontal:o,vertical:o};const{self:{[ie("gap",o)]:g}}=r.value,{row:p,col:E}=ue(g);return{horizontal:K(E),vertical:K(p)}})}},render(){const{vertical:e,reverse:n,align:s,inline:r,justify:t,itemClass:o,itemStyle:g,margin:p,wrap:E,mergedClsPrefix:S,rtlEnabled:j,useGap:w,wrapItem:N,internalUseGap:U}=this,L=ne(he(this),!1);if(!L.length)return null;const H=`${p.horizontal}px`,R=`${p.horizontal/2}px`,A=`${p.vertical}px`,$=`${p.vertical/2}px`,T=L.length-1,M=t.startsWith("space-");return X("div",{role:"none",class:[`${S}-space`,j&&`${S}-space--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:e&&!n?"column":e&&n?"column-reverse":!e&&n?"row-reverse":"row",justifyContent:["start","end"].includes(t)?`flex-${t}`:t,flexWrap:!E||e?"nowrap":"wrap",marginTop:w||e?"":`-${$}`,marginBottom:w||e?"":`-${$}`,alignItems:s,gap:w?`${p.vertical}px ${p.horizontal}px`:""}},!N&&(w||U)?L:L.map((B,_)=>B.type===_e?B:X("div",{role:"none",class:o,style:[g,{maxWidth:"100%"},w?"":e?{marginBottom:_!==T?A:""}:j?{marginLeft:M?t==="space-between"&&_===T?"":R:_!==T?H:"",marginRight:M?t==="space-between"&&_===0?"":R:"",paddingTop:$,paddingBottom:$}:{marginRight:M?t==="space-between"&&_===T?"":R:_!==T?H:"",marginLeft:M?t==="space-between"&&_===0?"":R:"",paddingTop:$,paddingBottom:$}]},B)))}}),Be={class:"card-body"},Oe=["src"],Ne=["innerHTML"],He={class:"row"},ze={key:0,class:"col-12 col-lg-6"},Pe={class:"pr-lg-2"},Ue=["innerHTML"],Ae={key:1,class:"col-12 col-lg-6"},Ge={class:"pl-lg-2"},Ve=["innerHTML"],qe={class:"card-text"},Ie="?withoutEnlargement=true&quality=90&fit=cover&width=720",De={__name:"HireView",props:{data:Object,contact:String},setup(e){const n=b(()=>e.data?{description:z(e.data.description),contact:e.data.contact,skills_vvvv:z(e.data.skills_vvvv),skills_other:z(e.data.skills_other),image:e.data.image?D(e.data.image)+Ie:null,availableFor:e.data.availableFor?e.data.availableFor.map(s=>s.AvailableFor_Options_id?s.AvailableFor_Options_id.value:""):[]}:{});return(s,r)=>(l(),i("div",Be,[n.value.image?(l(),i("img",{key:0,src:n.value.image,class:"img-fluid pt-2 mb-4"},null,8,Oe)):d("",!0),n.value.description?(l(),i("p",{key:1,class:"card-text",innerHTML:n.value.description},null,8,Ne)):d("",!0),a("div",He,[n.value.skills_vvvv?(l(),i("div",ze,[a("div",Pe,[r[0]||(r[0]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"vvvv skills")],-1)),a("p",{class:"card-text",innerHTML:n.value.skills_vvvv},null,8,Ue)])])):d("",!0),n.value.skills_other?(l(),i("div",Ae,[a("div",Ge,[r[1]||(r[1]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"other skills")],-1)),a("p",{class:"card-text",innerHTML:n.value.skills_other},null,8,Ve)])])):d("",!0)]),n.value.contact?(l(),i(P,{key:2},[r[2]||(r[2]=a("p",{class:"py-0 mb-0 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"contact")],-1)),a("p",qe,y(n.value.contact),1)],64)):d("",!0),n.value.availableFor.length>0?(l(),i(P,{key:3},[r[3]||(r[3]=a("p",{class:"py-0 mb-2 text-muted font-weight-bold",style:{"font-variant-caps":"all-small-caps"}},[a("b",null,"Available for")],-1)),k(v(Me),null,{default:h(()=>[(l(!0),i(P,null,te(n.value.availableFor,t=>(l(),F(v($e),{class:"mr-2",bordered:!1},{default:h(()=>[C(y(t),1)]),_:2},1024))),256))]),_:1})],64)):d("",!0)]))}},We={class:"joined border-top pt-3"},Je={key:0},Ke={key:1},Qe={__name:"BetaGammaUser",props:["data"],setup(e){return(n,s)=>(l(),i("div",We,[s[2]||(s[2]=a("p",{class:"joined mb-2"},"Using",-1)),e.data.beta?(l(),i("div",Je,[s[0]||(s[0]=C("vvvv beta since ")),a("b",null,y(e.data.beta),1)])):d("",!0),e.data.gamma?(l(),i("div",Ke,[s[1]||(s[1]=C("vvvv gamma since ")),a("b",null,y(e.data.gamma),1)])):d("",!0)]))}},Xe=["href"],Ye={class:"mb-1 d-flex text-align-center"},Ze=["href"],et={class:"mb-1"},tt={__name:"Maintains",props:["data"],setup(e){return(n,s)=>(l(),i("div",null,[s[2]||(s[2]=a("p",{class:"text-muted mb-1 border-top pt-3 smallTitle"},"Maintains",-1)),e.data.company?(l(),i("a",{key:0,href:"/business/"+e.data.company.slug,onClick:s[0]||(s[0]=r=>v(Z)(e.data.company.slug,r))},[a("div",Ye,y(e.data.company.name),1)],8,Xe)):d("",!0),e.data.edu?(l(),i("a",{key:1,href:"/edu/"+e.data.edu.slug,onClick:s[1]||(s[1]=r=>v(ee)(e.data.edu.slug,r))},[a("p",et,y(e.data.edu.name),1)],8,Ze)):d("",!0)]))}},at={class:"mb-2"},lt=["href","onClick"],st={__name:"AffiliatedWith",props:["data"],setup(e){function n(s){s.isEdu?ee(s.slug):Z(s.slug)}return(s,r)=>(l(),i("div",null,[r[0]||(r[0]=a("p",{class:"text-muted mb-1 border-top pt-3 smallTitle"},"Affiliated with",-1)),(l(!0),i(P,null,te(e.data,t=>(l(),i("div",at,[k(v(W),{trigger:"hover",disabled:!t.role,placement:"top-start"},{trigger:h(()=>[a("a",{href:t.link,onClick:be(o=>n(t),["prevent"])},y(t.name),9,lt)]),default:h(()=>[C(" "+y(t.role),1)]),_:2},1032,["disabled"])]))),256))]))}},nt={key:0,class:"userView"},ot={class:"row"},rt={class:"col-12 col-md-6 col-lg-4 mb-4"},it={class:"my-3"},ut=["href"],dt={key:0,class:"text-muted mb-1"},ct={class:"joined mb-2"},mt={class:"col-12 col-md-6 col-lg-8 mt-md-0 pt-md-0 profileContent"},vt={key:0,class:"border-top d-flex d-md-none mt-2 mb-4"},pt={key:1,class:"mb-4 description"},ft=["innerHTML"],gt={key:2},ht={key:0,class:"card"},I=120,Lt={__name:"UserView",emits:["logout"],setup(e,{emit:n}){const s=de();me();const r=s.params.username,t=x(null),o=x(null),g=x(null),p=x(null),E=x(!1),S=x(null),j=x({}),w=x([]),N=`?withoutEnlargement=true&quality=90&fit=cover&width=${I}&height=${I}`,U=`${O.GET_USERS}?filter[username][_eq]=${r}
            &fields=*,related.hire.*,related.hire.availableFor.AvailableFor_Options_id.value,related.social.*`,L=`${O.GET_COMPANIES}?filter[owner][username][_eq]=${r}&fields=name,slug`,H=`${O.GET_EDUS}?filter[owner][username][_eq]=${r}&fields=name,slug`,R=`${O.GET_USER_ROLES}?fields=Company.Company_id.name,Company.Company_id.slug,Edu.Edu_id.name,Edu.Edu_id.slug,role&filter[user_id][id][_eq]=`;ke(async()=>{E.value=!0,window.scrollTo({top:0,left:0,behavior:"smooth"});try{let u=await fetch(U),c=await u.json();if(!u.ok||c.data?.length==0)throw"Can't find a profile for this user";const m=c.data[0];document.title="Profile: "+m.username,t.value=m,p.value=t.value.userpic?`${D(t.value.userpic)}${N}`:null,o.value=m.related[0]?.hire,g.value=m.related[0]?.social,S.value=z(t.value.description);const f=[$(L),$(H)],[G,V]=await Promise.allSettled(f);G.status==="fulfilled"&&G.value&&(j.value.company=G.value),V.status==="fulfilled"&&V.value&&(j.value.edu=V.value),await A(R+t.value.id)}catch(u){console.error(u)}finally{E.value=!1}});async function A(u){const c=await fetch(u),m=await c.json();c.ok&&m.data?.length>0&&(w.value=m.data.map(f=>{if(f.Company[0])return{name:f.Company[0].Company_id.name,slug:f.Company[0].Company_id.slug,role:f.role,link:"/business/"+f.Company[0].Company_id.slug,isEdu:!1};if(f.Edu[0])return{name:f.Edu[0].Edu_id.name,slug:f.Edu[0].Edu_id.slug,role:f.role,link:"/edu/"+f.Edu[0].Edu_id.slug,isEdu:!0}}))}async function $(u){const c=await fetch(u),m=await c.json();return c.ok&&m.data?.length>0?{name:m.data[0].name,logo:m.data[0].logo?`${D(m.data[0].logo)}${N}`:null,slug:m.data[0].slug}:null}const T={year:"numeric",month:"short",day:"numeric"},M=b(()=>new Date(t.value.date_created).toLocaleString("en-US",T)),B=b(()=>({city:t.value.location_city,country:t.value.location_country})),_=b(()=>{const u=[t.value.name,t.value.surname].filter(Boolean).join(" ");return u||null}),ae=b(()=>`${O.FORUM}u/${t.value.username}/summary`),J=b(()=>{const u={beta:t.value.beta_since,gamma:t.value.gamma_since};return u.beta||u.gamma?u:null});b(()=>{let u=null;return g.value?.website&&g.value.website!==""&&(u={name:fe(g.value.website),link:pe(g.value.website)}),u});const le=b(()=>o.value.skills_other||o.value.skills_vvvv||o.value.contact||o.value.availableFor&&o.value.availableFor.length>0||o.value.description||o.value.image),se=b(()=>Object.values(g.value).some(u=>u!==null&&u!=""));return(u,c)=>(l(),F(v(ce),{show:E.value},{default:h(()=>[t.value?(l(),i("div",nt,[a("div",ot,[a("div",rt,[k(v(Se),{objectFit:"contain",round:"",size:I,src:p.value,class:we({noImageBack:p.value!==null})},null,8,["src","class"]),a("div",it,[a("h5",null,[C(y(t.value.username)+" ",1),a("a",{href:ae.value,target:"_blank",class:"pl-2",alt:"Forum Profile"},[k(v(W),{trigger:"hover"},{trigger:h(()=>[k(v(Q),null,{default:h(()=>[k(v(ve))]),_:1})]),default:h(()=>[c[0]||(c[0]=C(" Open Forum Profile "))]),_:1})],8,ut)]),_.value?(l(),i("p",dt,y(_.value),1)):d("",!0)]),a("div",ct,[k(v(W),{trigger:"hover"},{trigger:h(()=>[k(v(Q),{size:"1.2rem",class:"mr-2"},{default:h(()=>[k(v(Ee))]),_:1})]),default:h(()=>[c[1]||(c[1]=C(" Joined "))]),_:1}),C(" "+y(M.value),1)]),B.value?(l(),F(Ce,{key:0,location:B.value,class:"pb-2"},null,8,["location"])):d("",!0),w.value.length>0?(l(),F(st,{key:1,data:w.value,class:"mb-3"},null,8,["data"])):d("",!0),se.value?(l(),F(xe,{key:2,class:"my-1 py-2 border-top",social:g.value},null,8,["social"])):d("",!0),Object.keys(j.value).length>0?(l(),F(tt,{key:3,data:j.value,class:"mb-3"},null,8,["data"])):d("",!0),J.value?(l(),F(Qe,{key:4,data:J.value},null,8,["data"])):d("",!0)]),a("div",mt,[S.value&&o.value&&o.value.available?(l(),i("div",vt)):d("",!0),S.value?(l(),i("div",pt,[a("p",{innerHTML:S.value},null,8,ft)])):d("",!0),o.value&&o.value.available?(l(),i("div",gt,[c[2]||(c[2]=a("h4",{class:"h4 mt-4 mt-sm-0"},"Available for hire",-1)),le.value?(l(),i("div",ht,[k(De,{data:o.value},null,8,["data"])])):d("",!0)])):d("",!0)])])])):d("",!0)]),_:1},8,["show"]))}};export{Lt as default};
