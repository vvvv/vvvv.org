import{J as y,o as u,L as h,c as f,_ as w,b as l,F as V,O as N,u as k,M as x,t as q,N as M,$ as A,r as $,k as z,a3 as B}from"./app-vue-BvXrwsFo.js";import{d as E}from"./app-defaultLogo-CbgmFOV4.js";import{_ as S}from"./app-Location-c3c_cTRT.js";import{_ as O}from"./app-Internships-CJI2UJUs.js";import{T as P}from"./app.js";import{N as j}from"./app-utils-BxZ-CQXf.js";import{i as F,c as T,a as b,m as U,b as I,s as D}from"./app-leaflet-D6UHTNAV.js";const G=(o,t)=>{const e=o.__vccOpts||o;for(const[n,r]of t)e[n]=r;return e},J={key:0,class:"logoListView"},H={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4"},K={"track-by":"item.name",class:"col mx-0 px-0"},Q=["onClick"],R={class:"company"},W={class:"logo"},X=["src"],Y={class:"name"},Z={__name:"LogoListView",props:["list","loading"],emits:["click"],setup(o,{emit:t}){const e=t;return(n,r)=>(u(),y(k(P),{show:o.loading},{default:h(()=>[o.list&&o.list.total>0?(u(),f("div",J,[l("div",H,[(u(!0),f(V,null,N(o.list.items,s=>(u(),f("div",K,[x(k(j),{trigger:"hover",placement:"top",delay:50,duration:0},{trigger:h(()=>[l("div",{class:"companyCard p-3 h-100 px-3 py-4",onClick:A(d=>e("click",s.slug),["prevent"])},[l("div",R,[l("div",W,[l("img",{src:s.logo||k(E)},null,8,X)]),l("p",Y,M(s.name),1)]),s.internships?(u(),y(O,{key:0,data:s,text:"Accepting internship",class:"mb-1"},null,8,["data"])):w("",!0),x(S,{location:{city:s.location_city,country:s.location_country}},null,8,["location"])],8,Q)]),default:h(()=>[q(" "+M(s.tagline||s.name),1)]),_:2},1024)]))),256))])])):w("",!0)]),_:1},8,["show"]))}},ue=G(Z,[["__scopeId","data-v-0e91ffa2"]]);function ee(o={}){const t=$(null),e=$(null);let n=null;const r=L.icon({iconUrl:F,iconSize:[25,41],iconAnchor:[14,41],popupAnchor:[-1,-41]});z(()=>{if(!t||e.value)return;const{map:c}=T(t.value,null,o);e.value=c}),B(()=>{e.value&&(b(e.value),e.value.remove(),e.value=null)});function s(c,a){e.value&&(b(e.value),addMarker(e.value,c,a),D(e.value,c,a,o.zoom||14))}function d(c=[],a={}){if(!e.value)return;const _=c.map(i=>{const p=U(e.value,i.coords[1],i.coords[0],{popup:i.html,icon:r});return p.on("popupopen",()=>{for(const[v,g]of Object.entries(a)){const m=p.getPopup().getElement().querySelector(`#${v}`);m&&m.addEventListener("click",C=>g(i.slug,C))}}),p.on("popupclose",()=>{for(const[v,g]of Object.entries(a)){const m=p.getPopup().getElement().querySelector(`#${v}`);m&&m.removeEventListener("click",g)}}),p});n=I(e.value,n,_),e.value.fitBounds(n.getBounds(),{padding:[25,25]})}return{mapContainer:t,map:e,showLocation:s,addLocations:d}}const de={__name:"MapView",props:{center:{type:Array,default:()=>[0,0]},zoom:{type:Number,default:1}},setup(o,{expose:t}){const e=o,{mapContainer:n,addLocations:r}=ee({center:e.center,zoom:e.zoom});return t({addLocations:r}),(s,d)=>(u(),f("div",{ref_key:"mapContainer",ref:n,class:"map-container"},null,512))}},oe=[{name:"location_street",required:!0},{name:"location_postalcode",required:!0},{name:"location_city",required:!0},{name:"location_country",required:!0},{name:"location_additionalInfo",required:!1}];function te(o){const t=[];let e=!1;return oe.forEach(n=>{const r=o[n.name];r&&r!==""?t.push(r.trim()):n.required&&(e=!0)}),{address:t,notComplete:e}}function pe(o,t){const e=[51.505,-.09],n=4;function r(s){const d=s.filter(a=>a.location!==null).map(a=>{const{address:_,notComplete:i}=te(a);return{coords:a.location.coordinates,html:` <div class="pinPopup">
                                <img src="${a.logo}" class="mb-2" style="height:60px"/><br>
                                <div class="mb-2"><strong>${a.name}</strong></div>
                                <div class="address">
                                    <p class="title">Address:</p>
                                    <p>${_.join(", ")}</p>
                                    ${i?"<p>⚠️ Address is not complete</p>":""}
                                </div>
                                <a href="#" id="profileLink">Show Profile</a>
                            </div>`,slug:a.slug}}),c={profileLink:t};o.value.addLocations(d,c)}return{fillMap:r,center:e,zoom:n}}export{ue as L,de as _,pe as u};
