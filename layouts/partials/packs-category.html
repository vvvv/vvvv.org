{{ $title := replace .ctx.title " " "" }}
<div class="tab-pane fade{{if eq .index 0}} show active {{end}}" data-category-content="content" id="v-pills-content" role="tabpanel" aria-labelledby="v-pills-{{$title | urlize}}-tab">
    <div class="d-flex">
        <h1><span id="categoryTitle">{{.ctx.title}}</span> <span id="categoryCount">(...)</span></h1>
        <div class="ml-auto">
            <select name="Sort" id="sort">
                <option value="title">by Title</option>
                <option value="newest" selected>by Newest</option>
                <option value="updated">by Last Updated</option>
                <option value="download">by Download</option>
            </select>
        </div>
    </div>
    <div data-content>      
        {{ $showCategories := eq .ctx.title "All" }}
        {{ with .ctx.packs }}
            {{ range . }}
                {{ $ctx := merge . (dict "showCategories" $showCategories) }}
                {{ partial "packs-pack" $ctx}}
            {{ end }}
        {{ end }} 
        {{ with .ctx.categories }}
            {{ range . }}
                <div class="category mb-4" data-category-sub="{{.title}}">
                    <h2 id="{{.title}}">{{- .title -}}</h2>
                    {{ with .packs }}
                        {{ range . }}
                            {{ partial "packs-pack" . }} 
                        {{ end }}
                    {{ end }} 
                </div>
            {{ end }}
        {{ end }} 
    </div>
    <div data-info></div>
</div>